import { Resend } from "resend";
export async function POST(req: Request){ try{ const {name,email,phone,message}= await req.json(); if(!name||!email||!message){ return new Response(JSON.stringify({ok:false,error:"Dados obrigat√≥rios ausentes."}),{status:400}); } const resend=new Resend(process.env.RESEND_API_KEY); const to= process.env.CONTACT_TO||"carla.muniz.adv@bol.com.br"; await resend.emails.send({ from:"Site Carla Muniz <contato@carlamuniz.site>", to, subject:"Nova mensagem do site", text:`Nome: ${name}\nE-mail: ${email}\nTelefone: ${phone||""}\n\nMensagem:\n${message}` }); return new Response(JSON.stringify({ok:true}),{status:200}); }catch(e:any){ return new Response(JSON.stringify({ok:false,error:e?.message||"Erro"}),{status:500}); } }
